# Invalid configurations for negative testing
---
# Missing required fields
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-missing-fields
  namespace: vpsie-autoscaler-test
spec:
  # Missing minNodes, maxNodes, datacenterID, offeringID

---
# Invalid minNodes > maxNodes
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-min-greater-than-max
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 10
  maxNodes: 5
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb

---
# Negative values
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-negative-values
  namespace: vpsie-autoscaler-test
spec:
  minNodes: -1
  maxNodes: -5
  targetUtilization: -50
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb

---
# Invalid target utilization > 100
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-target-utilization
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 1
  maxNodes: 5
  targetUtilization: 150
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb

---
# Invalid VPSieNode without NodeGroup reference
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: VPSieNode
metadata:
  name: invalid-no-nodegroup
  namespace: vpsie-autoscaler-test
spec:
  # Missing nodeGroupName
  offeringID: standard-4cpu-8gb
  datacenterID: us-west-1

---
# Invalid VPSieNode phase
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: VPSieNode
metadata:
  name: invalid-phase
  namespace: vpsie-autoscaler-test
spec:
  nodeGroupName: test-nodegroup
  offeringID: standard-4cpu-8gb
  datacenterID: us-west-1
status:
  phase: "InvalidPhase"

---
# Empty datacenter ID
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-empty-datacenter
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 1
  maxNodes: 3
  datacenterID: ""
  offeringID: standard-4cpu-8gb

---
# Empty offering ID
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-empty-offering
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 1
  maxNodes: 3
  datacenterID: us-west-1
  offeringID: ""

---
# Zero nodes configuration
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-zero-nodes
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 0
  maxNodes: 0
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb

---
# Invalid scaling policy values
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-scaling-policy
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 1
  maxNodes: 5
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb
  scalingPolicy:
    scaleUpRate: -1
    scaleDownRate: 10
    scaleUpCooldown: -60
    scaleDownCooldown: 0

---
# Invalid taint effect
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-taint
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 1
  maxNodes: 3
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb
  taints:
  - key: "test"
    value: "value"
    effect: "InvalidEffect"

---
# Extremely large node count
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-huge-nodes
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 10000
  maxNodes: 100000
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb

---
# Invalid label keys with special characters
apiVersion: autoscaler.vpsie.com/v1alpha1
kind: NodeGroup
metadata:
  name: invalid-labels
  namespace: vpsie-autoscaler-test
spec:
  minNodes: 1
  maxNodes: 3
  datacenterID: us-west-1
  offeringID: standard-4cpu-8gb
  labels:
    "@invalid-key": "value"
    "another invalid key": "value"
    "": "empty-key"